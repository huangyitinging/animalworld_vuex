{"version":3,"sources":["webpack:///./src/views/Order.vue?f105","webpack:///src/views/Order.vue","webpack:///./src/views/Order.vue?6ac1","webpack:///./src/views/Order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","_m","preventDefault","payOrder","_l","order","item","key","id","_v","_s","product","title","qty","unit","_f","final_total","total","user","name","tel","email","address","is_paid","_e","staticRenderFns","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAIO,WAAWC,GAAG,CAAC,gBAAgB,SAASC,GAAQT,EAAIO,UAAUE,MAAWL,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,UAAU,CAACV,EAAIW,GAAG,GAAGP,EAAG,OAAO,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOG,iBAAwBZ,EAAIa,cAAc,CAACT,EAAG,QAAQ,CAACM,YAAY,SAAS,CAACV,EAAIW,GAAG,GAAGP,EAAG,QAAQJ,EAAIc,GAAId,EAAIe,MAAc,UAAE,SAASC,GAAM,OAAOZ,EAAG,KAAK,CAACa,IAAID,EAAKE,IAAI,CAACd,EAAG,KAAK,CAACM,YAAY,gBAAgB,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGJ,EAAKK,QAAQC,UAAUlB,EAAG,KAAK,CAACM,YAAY,gBAAgB,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGJ,EAAKO,KAAK,IAAIvB,EAAIoB,GAAGJ,EAAKK,QAAQG,SAASpB,EAAG,KAAK,CAACM,YAAY,2BAA2B,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIyB,GAAG,WAAPzB,CAAmBgB,EAAKU,sBAAqB,GAAGtB,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACM,YAAY,yBAAyBJ,MAAM,CAAC,QAAU,MAAM,CAACN,EAAImB,GAAG,QAAQf,EAAG,KAAK,CAACM,YAAY,0BAA0B,CAACV,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIyB,GAAG,WAAPzB,CAAmBA,EAAIe,MAAMY,iBAAiBvB,EAAG,QAAQ,CAACM,YAAY,SAAS,CAACN,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAImB,GAAG,QAAQf,EAAG,KAAK,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIe,MAAMa,KAAKC,WAAWzB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAImB,GAAG,WAAWf,EAAG,KAAK,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIe,MAAMa,KAAKE,UAAU1B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAImB,GAAG,WAAWf,EAAG,KAAK,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIe,MAAMa,KAAKG,YAAY3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAImB,GAAG,WAAWf,EAAG,KAAK,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIe,MAAMa,KAAKI,cAAc5B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAImB,GAAG,UAAUf,EAAG,KAAK,CAAGJ,EAAIe,MAAMkB,QAAqC7B,EAAG,OAAO,CAACM,YAAY,eAAe,CAACV,EAAImB,GAAG,UAA1Ef,EAAG,OAAO,CAACJ,EAAImB,GAAG,mBAAiG,IAAtBnB,EAAIe,MAAMkB,QAAmB7B,EAAG,MAAM,CAACM,YAAY,cAAc,CAACV,EAAIW,GAAG,KAAKX,EAAIkC,MAA4B,IAAtBlC,EAAIe,MAAMkB,QAAkB7B,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,cAAc,CAACM,YAAY,6BAA6BJ,MAAM,CAAC,GAAK,gBAAgB,CAACN,EAAImB,GAAG,WAAW,GAAGnB,EAAIkC,YAAY,IAC/0DC,EAAkB,CAAC,WAAa,IAAInC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,sCAAsC,CAACN,EAAG,MAAM,CAACM,YAAY,2CAA2C,CAACN,EAAG,MAAM,CAACA,EAAG,IAAI,CAACM,YAAY,wCAAwCN,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACV,EAAImB,GAAG,cAAcf,EAAG,MAAM,CAACM,YAAY,2CAA2C,CAACN,EAAG,MAAM,CAACA,EAAG,IAAI,CAACM,YAAY,0CAA0CN,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACV,EAAImB,GAAG,gBAAgBf,EAAG,MAAM,CAACM,YAAY,4BAA4B,CAACN,EAAG,MAAM,CAACA,EAAG,IAAI,CAACM,YAAY,uCAAuCN,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACV,EAAImB,GAAG,iBAAiB,WAAa,IAAInB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAImB,GAAG,UAAUf,EAAG,KAAK,CAACJ,EAAImB,GAAG,QAAQf,EAAG,KAAK,CAACJ,EAAImB,GAAG,WAAW,WAAa,IAAInB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACM,YAAY,8BAA8B,CAACV,EAAImB,GAAG,2BAA2Bf,EAAG,IAAI,CAACM,YAAY,gCCsFzmC,G,UAAA,CACE,KADF,WAEI,MAAJ,CACM,MAAN,CACQ,KAAR,IAEM,QAAN,GACM,OAAN,CACQ,YAAR,IAEM,WAAN,IAGE,QAAF,CACI,SADJ,WAEM,IAAN,OACA,qOACM,EAAN,aACM,KAAN,+BACQ,EAAR,mBACQ,QAAR,OACQ,EAAR,iBAII,SAZJ,WAaM,IAAN,OACA,mOACM,EAAN,aACM,KAAN,gCACA,iBACU,EAAV,oDACU,EAAV,YAEQ,QAAR,OACQ,EAAR,kBAKE,QAxCF,WAyCI,KAAJ,mCACI,KAAJ,WACI,QAAJ,qBClI+U,I,YCO3U0B,EAAY,eACd,EACArC,EACAoC,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d222708.eb1f0966.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"my-5 row justify-content-center\"},[_c('div',{staticClass:\"col-9 \"},[_vm._m(0),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder()}}},[_c('table',{staticClass:\"table\"},[_vm._m(1),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.final_total)))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right text-danger\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.total)))])])])]),_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"收件人電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"收件人地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',[_vm._v(\"付款狀態\")]),_c('td',[(!_vm.order.is_paid)?_c('span',[_vm._v(\"尚未付款\")]):_c('span',{staticClass:\"text-danger\"},[_vm._v(\"付款完成\")])])])])]),(_vm.order.is_paid === false)?_c('div',{staticClass:\"text-right\"},[_vm._m(2)]):_vm._e(),(_vm.order.is_paid === true)?_c('div',{staticClass:\"text-center\"},[_c('router-link',{staticClass:\"btn btn-primary text-white\",attrs:{\"to\":\"/petproduct\"}},[_vm._v(\"繼續逛逛\")])],1):_vm._e()])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-center mb-5\"},[_c('div',{staticClass:\"bg-gray progress-list d-md-block d-none\"},[_c('div',[_c('i',{staticClass:\"fas fa-cart-plus fa-3x text-muted\"})]),_c('div',{staticClass:\"text-muted h5 mt-2\"},[_vm._v(\"1.確認清單\")])]),_c('div',{staticClass:\"bg-gray progress-list d-md-block d-none\"},[_c('div',[_c('i',{staticClass:\"far fa-credit-card fa-3x text-muted\"})]),_c('div',{staticClass:\"text-muted h5 mt-2\"},[_vm._v(\"2.填寫訂購資料\")])]),_c('div',{staticClass:\"bg-success progress-list\"},[_c('div',[_c('i',{staticClass:\"fas fa-list-alt fa-3x text-white\"})]),_c('div',{staticClass:\"text-white h5 mt-2\"},[_vm._v(\"3.完成訂單\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"商品名稱\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"小計\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-primary text-white\"},[_vm._v(\"確認付款去\\n                \"),_c('i',{staticClass:\"fas fa-arrow-right ml-2\"})])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <loading :active.sync=\"isLoading\"></loading>\n        <div class=\"my-5 row justify-content-center\">\n            <div class=\"col-9 \">\n                <div class=\"d-flex justify-content-center mb-5\">\n                    <div class=\"bg-gray progress-list d-md-block d-none\">\n                        <div><i class=\"fas fa-cart-plus fa-3x text-muted\"></i></div>\n                        <div class=\"text-muted h5 mt-2\">1.確認清單</div>\n                    </div>\n                    <div class=\"bg-gray progress-list d-md-block d-none\">\n                        <div><i class=\"far fa-credit-card fa-3x text-muted\"></i></div>\n                        <div class=\"text-muted h5 mt-2\">2.填寫訂購資料</div>\n                    </div>\n                    <div class=\"bg-success progress-list\">\n                        <div><i class=\"fas fa-list-alt fa-3x text-white\"></i></div>\n                        <div class=\"text-white h5 mt-2\">3.完成訂單</div>\n                    </div>\n                </div>\n                <form class=\"\" @submit.prevent=\"payOrder()\">\n                <table class=\"table\">\n                <thead>\n                    <th>商品名稱</th>\n                    <th>數量</th>\n                    <th>小計</th>\n                </thead>\n                <tbody>\n                    <tr v-for=\"item in order.products\" :key=\"item.id\">\n                    <td class=\"align-middle\">{{ item.product.title }}</td>\n                    <td class=\"align-middle\">{{ item.qty }}/{{ item.product.unit }}</td>\n                    <td class=\"align-middle text-right\">{{ item.final_total | currency}}</td>\n                    </tr>\n                </tbody>\n                <tfoot>\n                    <tr>\n                    <td colspan=\"2\" class=\"text-right text-danger\">總計</td>\n                    <td class=\"text-right text-danger\">{{ order.total | currency}}</td>\n                    </tr>\n                </tfoot>\n                </table>\n\n                <table class=\"table\">\n                <tbody>\n                    <tr>\n                    <th>姓名</th>\n                    <td>{{ order.user.name }}</td>\n                    </tr>\n                    <tr>\n                    <th>收件人電話</th>\n                    <td>{{ order.user.tel }}</td>\n                    </tr>\n                    <tr>\n                    <th width=\"100\">Email</th>\n                    <td>{{ order.user.email }}</td>\n                    </tr>\n                    <tr>\n                    <th>收件人地址</th>\n                    <td>{{ order.user.address }}</td>\n                    </tr>\n                    <tr>\n                    <th>付款狀態</th>\n                    <td>\n                        <span v-if=\"!order.is_paid\">尚未付款</span>\n                        <span v-else class=\"text-danger\">付款完成</span>\n                    </td>\n                    </tr>\n                </tbody>\n                </table>\n                <div class=\"text-right\" v-if=\"order.is_paid === false\">\n                <button class=\"btn btn-primary text-white\">確認付款去\n                    <i class=\"fas fa-arrow-right ml-2\"></i>\n                </button>\n                </div>\n                 <div class=\"text-center\" v-if=\"order.is_paid === true\">\n                <router-link class=\"btn btn-primary text-white\" to=\"/petproduct\">繼續逛逛</router-link>\n                </div>\n            </form>\n            </div>\n            \n        </div>\n\n    </div>\n</template>\n\n\n<script>\nimport $ from 'jquery';\nexport default {\n    data() {\n        return {\n            order:{\n                user:{},\n            },\n            orderId:'',\n            status:{\n                loadingItem:'',\n            },\n            isLoading:false,\n        };\n    },\n    methods: {\n        getOrder(){\n            const vm = this;\n            const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMAPIPATH}/order/${vm.orderId}`;\n             vm.isLoading = true;\n             this.$http.get(url).then((response)=>{\n                 vm.order = response.data.order;\n                 console.log(response);\n                 vm.isLoading = false;\n            \n          });\n        },\n        payOrder(){\n            const vm = this;\n            const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMAPIPATH}/pay/${vm.orderId}`;\n             vm.isLoading = true;\n             this.$http.post(url).then((response)=>{\n                 if(response.data.success){\n                     vm.$bus.$emit('message:push', response.data.message,'warning');\n                     vm.getOrder();\n                 };\n                 console.log(response);\n                 vm.isLoading = false;\n            \n          });\n        }\n    },\n    created() {\n        this.orderId = this.$route.params.orderId;\n        this.getOrder();\n        console.log(this.orderId);\n    },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=64cd0d4e&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}