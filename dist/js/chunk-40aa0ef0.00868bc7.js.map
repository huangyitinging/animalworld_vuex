{"version":3,"sources":["webpack:///./src/views/OrderList.vue?dd54","webpack:///./src/views/OrderList.vue?172e","webpack:///src/views/OrderList.vue","webpack:///./src/views/OrderList.vue?8ba8","webpack:///./src/views/OrderList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","_m","_l","item","key","id","_v","_s","create_at","user","name","email","address","tel","prod","product","title","qty","unit","final_total","total","_f","_e","coupon","message","paid_date","openOrederModal","delOrderModal","orders","length","pagination","getOrders","directives","rawName","value","tempOrder","expression","domProps","target","composing","$set","Array","isArray","is_enabled","_i","_q","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","updateOrder","delOrder","staticRenderFns","component"],"mappings":"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","file":"js/chunk-40aa0ef0.00868bc7.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.orders),function(item,key){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(item.create_at))]),_c('td',[_c('ul',[_c('li',[_vm._v(\"訂購單ID:\"),_c('br'),_vm._v(_vm._s(item.id))]),_c('li',[_vm._v(\"訂購人:\"+_vm._s(item.user.name))]),_c('li',[_vm._v(\"信箱:\"+_vm._s(item.user.email))]),_c('li',[_vm._v(\"地址:\"+_vm._s(item.user.address))]),_c('li',[_vm._v(\"電話:\"+_vm._s(item.user.tel))])])]),_c('td',[_c('ul',_vm._l((item.products),function(prod){return _c('li',{key:prod.id,staticClass:\"mb-2\"},[_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\"\\n                                    \"+_vm._s(prod.product.title)+\" \"),_c('br'),_vm._v(\"\\n                                    \"+_vm._s(prod.qty)+\" \"+_vm._s(prod.product.unit)+\" - \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"),(prod.final_total >= prod.total)?_c('span',{staticClass:\"text-main\"},[_vm._v(_vm._s(_vm._f(\"currency\")(prod.final_total)))]):_vm._e(),(prod.final_total < prod.total)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(prod.final_total))+\" (\"+_vm._s(prod.coupon.title)+\")\")]):_vm._e()])])}),0)]),_c('td',[_vm._v(_vm._s(item.message))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_c('td',[(item.is_paid)?_c('ul',[_c('li',{staticClass:\"text-success font-weight-bold\"},[_vm._v(\"已付款\")]),_c('li',[_vm._v(_vm._s(item.paid_date))])]):_c('span',[_vm._v(\"尚未付款\")])]),_c('td',[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",on:{\"click\":function($event){return _vm.openOrederModal(false,item)}}},[_vm._v(\"編輯\")]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm mt-2\",on:{\"click\":function($event){return _vm.delOrderModal(item)}}},[_vm._v(\"刪除\")])])])}),0)]),(_vm.orders.length != 0)?_c('Pagination',{attrs:{\"pagination\":_vm.pagination},on:{\"getPage\":_vm.getOrders}}):_vm._e(),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"orderModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content border-0\"},[_vm._m(1),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-12\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"購買時間\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempOrder.title),expression:\"tempOrder.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"title\",\"placeholder\":\"請輸入標題\"},domProps:{\"value\":(_vm.tempOrder.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempOrder, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group col-12\"},[_c('label',{attrs:{\"for\":\"code\"}},[_vm._v(\"訂購人資訓\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempOrder.code),expression:\"tempOrder.code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"code\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.tempOrder.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempOrder, \"code\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group col-12\"},[_c('label',{attrs:{\"for\":\"due_date\"}},[_vm._v(\"訂購內容\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempOrder.due_date),expression:\"tempOrder.due_date\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\",\"id\":\"due_date\",\"placeholder\":\"請輸入到期日\"},domProps:{\"value\":(_vm.tempOrder.due_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempOrder, \"due_date\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group col-12\"},[_c('label',{attrs:{\"for\":\"percent\"}},[_vm._v(\"備註\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempOrder.percent),expression:\"tempOrder.percent\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"percent\",\"placeholder\":\"請輸入折扣百分比\"},domProps:{\"value\":(_vm.tempOrder.percent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempOrder, \"percent\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempOrder.is_enabled),expression:\"tempOrder.is_enabled\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"true-value\":1,\"false-value\":0,\"id\":\"is_enabled\"},domProps:{\"checked\":Array.isArray(_vm.tempOrder.is_enabled)?_vm._i(_vm.tempOrder.is_enabled,null)>-1:_vm._q(_vm.tempOrder.is_enabled,1)},on:{\"change\":function($event){var $$a=_vm.tempOrder.is_enabled,$$el=$event.target,$$c=$$el.checked?(1):(0);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tempOrder, \"is_enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tempOrder, \"is_enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tempOrder, \"is_enabled\", $$c)}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"is_enabled\"}},[_vm._v(\"\\n                            是否啟用\\n                            \")])])])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.updateOrder}},[_vm._v(\"確認\")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"delOrderModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content border-0\"},[_vm._m(2),_c('div',{staticClass:\"modal-body\"},[_vm._v(\"\\n                    是否刪除 \"),_c('strong',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.tempOrder.title))]),_vm._v(\" 商品(刪除後將無法恢復)。\\n                \")]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.delOrder()}}},[_vm._v(\"確認刪除\")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"購買時間\")]),_c('th',[_vm._v(\"訂購人資訊\")]),_c('th',[_vm._v(\"購買內容\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"備註\")]),_c('th',[_vm._v(\"應付金額\")]),_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"是否付款\")]),_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"編輯\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header bg-dark text-white\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_c('span',[_vm._v(\"訂單內容\")])]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header bg-danger text-white\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_c('span',[_vm._v(\"刪除產品\")])]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <loading :active.sync=\"isLoading\"></loading>\n         <table class=\"table mt-4\">\n            <thead>\n            <tr> \n               <th width=\"100\">購買時間</th>\n               <th>訂購人資訊</th>\n               <th>購買內容</th>\n               <th width=\"120\">備註</th>\n               <th>應付金額</th>\n               <th width=\"100\">是否付款</th>\n               <th width=\"100\">編輯</th>\n            </tr>\n            </thead>\n                <tbody>\n                <tr v-for=\"(item,key) in orders\" :key=\"item.id\">\n                    <td>{{ item.create_at}}</td>\n                    <td>\n                        <ul>\n                            <li>訂購單ID:</br>{{ item.id}}</li>\n                            <li>訂購人:{{ item.user.name}}</li>\n                            <li>信箱:{{ item.user.email}}</li>\n                            <li>地址:{{ item.user.address}}</li>\n                            <li>電話:{{ item.user.tel}}</li>\n                        </ul>\n                    </td>\n                    <td> \n                        <ul>\n                            <li v-for=\"prod in item.products\" :key=\"prod.id\" class=\"mb-2\">\n                                <div class=\"text-nowrap\">\n                                    {{ prod.product.title}} </br>\n                                    {{prod.qty}} {{prod.product.unit}} - \n\t\t\t\t\t\t\t\t\t\t<span class=\"text-main\" v-if=\"prod.final_total >= prod.total\">{{prod.final_total | currency}}</span>\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-danger\" v-if=\"prod.final_total < prod.total\">{{prod.final_total | currency}} ({{prod.coupon.title}})</span>\n                                </div>\n                            </li>\n                        </ul>\n                    </td>\n                    <td>{{ item.message}}</td>\n                    <td class=\"text-right\">{{ item.total |currency}}</td>\n                    <td>\n                       <ul v-if=\"item.is_paid\">\n\t\t\t\t\t\t\t<li class=\"text-success font-weight-bold\">已付款</li>\n\t\t\t\t\t\t\t<li>{{item.paid_date }}</li>\n\t\t\t\t\t\t</ul>\n                        <span v-else>尚未付款</span>\n                    </td>\n                    <td>\n                    <button class=\"btn btn-outline-primary btn-sm\" @click=\"openOrederModal(false,item)\">編輯</button>\n                    <button class=\"btn btn-outline-danger btn-sm mt-2\" @click=\"delOrderModal(item)\">刪除</button>\n                    </td>\n                  </tr>\n                </tbody>\n         </table>\n\n          <!-- pagination -->\n        <Pagination :pagination=\"pagination\" v-on:getPage=\"getOrders\" v-if=\"orders.length != 0\"/>\n\n         <!-- Modal -->\n        <div class=\"modal fade\" id=\"orderModal\" tabindex=\"-1\" role=\"dialog\"\n            aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div class=\"modal-dialog modal-lg\" role=\"document\">\n                <div class=\"modal-content border-0\">\n                <div class=\"modal-header bg-dark text-white\">\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n                    <span>訂單內容</span>\n                    </h5>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"row\">\n                      <div class=\"col\">\n                        <div class=\"form-row\">\n                        <div class=\"form-group col-12\">\n                        <label for=\"title\">購買時間</label>\n                        <input type=\"text\" class=\"form-control\" id=\"title\"\n                            v-model=\"tempOrder.title\"\n                            placeholder=\"請輸入標題\">\n                        </div>\n                        <div class=\"form-group col-12\">\n                            <label for=\"code\">訂購人資訓</label>\n                            <input type=\"text\" class=\"form-control\" id=\"code\"\n                            v-model=\"tempOrder.code\"\n                            placeholder=\"請輸入優惠碼\">\n                        </div>\n                        <div class=\"form-group col-12\">\n                            <label for=\"due_date\">訂購內容</label>\n                            <input type=\"date\" class=\"form-control\" id=\"due_date\"\n                            v-model=\"tempOrder.due_date\"\n                            placeholder=\"請輸入到期日\">\n                        </div>\n                        <div class=\"form-group col-12\">\n                        <label for=\"percent\">備註</label>\n                            <input type=\"number\" class=\"form-control\" id=\"percent\"\n                            v-model=\"tempOrder.percent\"\n                            placeholder=\"請輸入折扣百分比\">\n                        </div>\n                    </div>\n                        <div class=\"form-group\">\n                        <div class=\"form-check\">\n                            <input class=\"form-check-input\" type=\"checkbox\"\n                            v-model=\"tempOrder.is_enabled\"\n                            :true-value=\"1\"\n                            :false-value=\"0\"\n                            id=\"is_enabled\">\n                            <label class=\"form-check-label\" for=\"is_enabled\">\n                            是否啟用\n                            </label>\n                        </div>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">取消</button>\n                    <button type=\"button\" class=\"btn btn-primary\" @click=\"updateOrder\">確認</button>\n                </div>\n                </div>\n            </div>\n            </div>\n            <!-- 刪除Modal -->\n            <div class=\"modal fade\" id=\"delOrderModal\" tabindex=\"-1\" role=\"dialog\"\n            aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div class=\"modal-dialog\" role=\"document\">\n                <div class=\"modal-content border-0\">\n                <div class=\"modal-header bg-danger text-white\">\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n                    <span>刪除產品</span>\n                    </h5>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                    是否刪除 <strong class=\"text-danger\">{{ tempOrder.title }}</strong> 商品(刪除後將無法恢復)。\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">取消</button>\n                    <button type=\"button\" class=\"btn btn-danger\"\n                    @click=\"delOrder()\"\n                    >確認刪除</button>\n                </div>\n                </div>\n             </div>\n            </div>\n\n    </div>\n</template>\n\n\n<script>\nimport $ from 'jquery';\nimport Pagination from '@/components/Pagination';\n\n\nexport default {\n    data() {\n        return {\n            orders:[],\n            tempOrder:{\n                user:{},\n                products:{},\n            },\n            pagination:{},\n            isNew:false,\n            isLoading:false,\n        };\n    },\n    methods: {\n        getOrders(page = 1){\n            const vm = this;\n            const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMAPIPATH}/admin/orders?page=${page}`;\n             vm.isLoading = true;\n             this.$http.get(url).then((response)=>{\n                 console.log(response.data);\n                 vm.orders = response.data.orders;\n                 vm.pagination=response.data.pagination;\n                 vm.isLoading = false;\n            \n          });\n        },\n        openOrederModal(isNew,item){\n        if(isNew){\n            this.tempOrder ={};\n            this.isNew = true;\n        }else{\n            this.tempOrder = Object.assign({},item);\n            this.isNew = false;\n        }\n        $('#orderModal').modal('show');\n         },\n        updateOrder(){\n            let api =`${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMAPIPATH}/admin/order`; //'https://vue-course-api.hexschool.io/api/hexschooleating/products';\n            let httpMethod = 'post';\n            const vm =this;\n            if(!vm.isNew){\n                api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMAPIPATH}/admin/order/${vm.tempOrder.id}`; \n                httpMethod = 'put'\n            }\n            console.log(process.env.VUE_APP_APIPATH,process.env.VUE_APP_CUSTOMAPIPATH);\n            this.$http[httpMethod](api, {data: vm.tempOrder }).then((response)=>{\n            console.log(response.data);\n            if(response.data.success){\n                 $('#orderModal').modal('hide');\n                 vm.getOrders();\n            }else{\n                $('#orderModal').modal('hide');\n                 vm.getOrders();\n                 console.log('新增失敗');\n            }\n            vm.order=response.data.order;\n             });\n        },\n        //刪除產品\n        openDelOrderModal(item){\n             const vm = this;\n             console.log(item);\n             vm.tempOrder = Object.assign({},item);\n             $('#delOrderModal').modal('show');\n        },\n        delOrder(){\n            const vm = this;\n            const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMAPIPATH}/admin/order/${vm.tempOrder.id}`;\n            this.$http.delete(api, {data: vm.tempOrder }).then((response)=>{\n            console.log(response.data);\n            if(response.data.success){\n                 $('#delOrderModal').modal('hide');\n                 vm.getOrders();\n            }else{\n                $('#delOrderModal').modal('hide');\n                 alert('刪除失敗')\n            }     \n            })\n        },\n    },\n    created() {\n        this.getOrders();\n    },\n    components:{\n        Pagination,\n    },\n}\n</script>\n\n<style>\nul {\n  list-style-type: none;\n  padding: 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderList.vue?vue&type=template&id=ecf21874&\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}