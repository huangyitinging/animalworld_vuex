{"version":3,"sources":["webpack:///./src/views/Product.vue?f89d","webpack:///./src/views/Product.vue?7963","webpack:///src/views/Product.vue","webpack:///./src/views/Product.vue?ad6d","webpack:///./src/views/Product.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","style","backgroundImage","product","_v","_s","category","title","description","price","_e","_f","origin_price","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","num","key","domProps","unit","addtoCart","id","status","loadingItem","content","staticRenderFns","component"],"mappings":"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","file":"js/chunk-cdd16a0a.bb01bf12.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',[_c('div',{staticClass:\"container my-5 mb-8\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"product-wrap\"},[_c('div',{staticClass:\"product-img border\",style:({backgroundImage:(\"url(\" + (_vm.product.imageUrl) + \")\")})})])]),_c('div',{staticClass:\"col-lg-6\"},[_c('span',{staticClass:\"badge badge-secondary h5\"},[_vm._v(_vm._s(_vm.product.category))]),_c('h1',{staticClass:\"h3 text-dark\"},[_vm._v(_vm._s(_vm.product.title))]),_c('p',[_vm._v(_vm._s(_vm.product.description))]),_c('div',{staticClass:\"d-flex justify-content-between align-items-baseline \"},[(!_vm.product.price)?_c('div',{staticClass:\"h5\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.product.origin_price)))]):_vm._e(),(_vm.product.price)?_c('div',{staticClass:\"h6 origin-price\"},[_vm._v(\"原價\"+_vm._s(_vm._f(\"currency\")(_vm.product.origin_price)))]):_vm._e(),(_vm.product.price)?_c('div',{staticClass:\"h4 text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.product.price)))]):_vm._e()]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.num),expression:\"product.num\"}],staticClass:\"form-control my-3\",attrs:{\"name\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.product, \"num\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"0\",\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\"請選擇數量\")]),_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(\"\\n                        選購 \"+_vm._s(num)+\" \"+_vm._s(_vm.product.unit)+\"\\n                        \")])})],2),_c('button',{staticClass:\"btn btn-block btn-success py-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addtoCart(_vm.product.id,_vm.product.num)}}},[(_vm.product.id ===_vm.status.loadingItem)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\"\\n                     加入購物車\")]),_c('div',[_c('p',{staticClass:\"h5 mt-3\"},[_vm._v(\"【產品說明】\")]),_c('p',[_vm._v(_vm._s(_vm.product.content))])]),_c('div',{staticClass:\"border-top mt-3\"},[_c('p',{staticClass:\"h5 mt-3\"},[_vm._v(\"【優惠活動】\")]),_c('router-link',{attrs:{\"to\":\"/coupon\"}},[_vm._v(\"現在填寫汪喵 Q&A 即可獲得折扣碼\")])],1)])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <loading :active.sync=\"isLoading\"></loading>\n        <div>\n           <div class=\"container my-5 mb-8\">\n               <div class=\"row\">\n                   <div class=\"col-lg-6\" >\n                       <div class=\"product-wrap\">\n                           <div class=\"product-img border\"\n                            :style=\"{backgroundImage:`url(${product.imageUrl})`}\">\n                            </div>\n                       </div>\n                   </div>\n                   <div class=\"col-lg-6\">\n                        <span class=\"badge badge-secondary h5\">{{product.category}}</span>\n                        <h1 class=\"h3 text-dark\">{{product.title}}</h1>\n                        <p>{{product.description}}</p>\n                        <div class=\"d-flex justify-content-between align-items-baseline \">\n                            <div class=\"h5\" v-if=\"!product.price\">{{product.origin_price | currency}}</div> \n                            <div class=\"h6 origin-price\" v-if=\"product.price\">原價{{product.origin_price | currency}}</div>\n                            <div class=\"h4 text-danger\" v-if=\"product.price\">{{product.price | currency}}</div>\n                        </div>\n                         <select class=\"form-control my-3\" name=\"\" v-model=\"product.num\">\n                            <option value=\"0\" disabled selected>請選擇數量</option>\n                            <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">\n                            選購 {{num}} {{product.unit}}\n                            </option>\n                        </select>\n                        <button type=\"button\" class=\"btn btn-block btn-success py-2\"\n                         @click=\"addtoCart(product.id,product.num)\">\n                         <i class=\"fas fa-spinner fa-spin\" v-if=\"product.id ===status.loadingItem\"></i>\n                         加入購物車</button>\n                         <div>\n                            <p class=\"h5 mt-3\">【產品說明】</p>\n                            <p>{{product.content}}</p>\n                        </div>\n                        <div class=\"border-top mt-3\">\n                            <p class=\"h5 mt-3\">【優惠活動】</p>\n                            <router-link to=\"/coupon\">現在填寫汪喵 Q&A 即可獲得折扣碼</router-link>\n                        </div>\n                    </div> \n               </div>\n           </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport $ from 'jquery';\n\n\nexport default {\n    data(){\n        return{\n            productID: '',\n            product:{},\n            status:{\n                loadingItem:'',\n            },\n            isLoading:false,\n            cart:{},\n        }\n    },\n    methods:{\n        getProduct(id){\n            const vm = this;\n            const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMAPIPATH}/product/${id}`;\n            vm.isLoading = true; \n            this.$http.get(url).then((response) => {\n                    vm.product = response.data.product;\n                    console.log(response.data);\n                    // 預設 選購數量是一\n                    vm.$set(vm.product, \"num\", 1);\n                    vm.isLoading = false;\n            });\n        },\n        addtoCart(item,qty = 1){\n            const vm = this;\n            const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMAPIPATH}/cart`;\n             const cart = {\n                 product_id:item,\n                 qty,\n             };\n             vm.isLoading = true;\n             this.$http.post(url,{data:cart}).then((response)=>{\n                console.log(response.data);\n                vm.$bus.$emit('updateCart');\n                this.$bus.$emit('message:push', response.data.message,'warning');\n                vm.isLoading = false;\n          });\n        },\n    },\n    created(){\n        const vm = this;\n        vm.productID = vm.$route.params.id;\n        vm.getProduct(vm.productID);\n    },\n}\n</script>\n\n<style lang=\"scss\">\n.product-img{\n    position: relative;\n    height: 400px; \n    background-size:cover; \n    background-position:center;\n}   \n@media (min-width: 768px){\n    .product-wrap{\n    padding-right: 50px;\n    padding-bottom: 60px;\n}\n}\n.origin-price{\n    text-decoration: line-through;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=d921ab46&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}